{
    "sourceFile": "src/Components/Men/Men.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 2,
            "patches": [
                {
                    "date": 1763578924185,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1763578947527,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -145,9 +145,9 @@\n                     <span className=\"h5 text-success mb-0\">${productInfo.price}</span>\r\n \r\n                     <Link\r\n                       to={`/product/${productInfo.id}`}\r\n-                      className=\"btn btn-sm btn-outline-\"\r\n+                      className=\"btn btn-sm btn-outline-success\"\r\n                     >\r\n                       View\r\n                     </Link>\r\n                   </div>\r\n"
                },
                {
                    "date": 1763635859699,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -143,14 +143,16 @@\n \r\n                   <div className=\"d-flex justify-content-between align-items-center mt-auto\">\r\n                     <span className=\"h5 text-success mb-0\">${productInfo.price}</span>\r\n \r\n-                    <Link\r\n-                      to={`/product/${productInfo.id}`}\r\n-                      className=\"btn btn-sm btn-outline-success\"\r\n-                    >\r\n-                      View\r\n-                    </Link>\r\n+                   <Link\r\n+  to={`/product/${productInfo.id}`}\r\n+  state={{ product: productInfo }}\r\n+  className=\"btn btn-sm btn-outline-success\"\r\n+>\r\n+  View\r\n+</Link>\r\n+\r\n                   </div>\r\n                 </div>\r\n \r\n               </div>\r\n"
                }
            ],
            "date": 1763578924185,
            "name": "Commit-0",
            "content": "import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function Men() {\r\n  const [products, setProducts] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  const [priceFilter, setPriceFilter] = useState(\"all\");\r\n  const [sortOrder, setSortOrder] = useState(\"none\");\r\n\r\n  const endpoints = [\r\n    'https://dummyjson.com/products/category/mens-shirts',\r\n    'https://dummyjson.com/products/category/mens-shoes',\r\n    'https://dummyjson.com/products/category/fragrances',\r\n    'https://dummyjson.com/products/category/mens-watches',\r\n  ];\r\n\r\n  function getProducts() {\r\n    setIsLoading(true);\r\n    setError(null);\r\n\r\n    const requests = endpoints.map(endpoint => axios.get(endpoint));\r\n\r\n    Promise.all(requests)\r\n      .then(responses => {\r\n        const combinedData = [];\r\n\r\n        responses.forEach(response => {\r\n          if (response.data && Array.isArray(response.data.products)) {\r\n            combinedData.push(...response.data.products);\r\n          }\r\n        });\r\n\r\n        setProducts(combinedData);\r\n        setIsLoading(false);\r\n      })\r\n      .catch(error => {\r\n        console.error(\"Error fetching data:\", error);\r\n        setError(\"Failed to fetch products. Please check your connection.\");\r\n        setIsLoading(false);\r\n      });\r\n  }\r\n\r\n  useEffect(() => {\r\n    getProducts();\r\n  }, []);\r\n\r\n  // -------- Filter + Sort --------\r\n  let filteredProducts = products;\r\n\r\n  // Filter by price\r\n  if (priceFilter === \"low\") {\r\n    filteredProducts = products.filter(p => p.price < 100);\r\n  }\r\n  if (priceFilter === \"mid\") {\r\n    filteredProducts = products.filter(p => p.price >= 100 && p.price <= 300);\r\n  }\r\n  if (priceFilter === \"high\") {\r\n    filteredProducts = products.filter(p => p.price > 300);\r\n  }\r\n\r\n  // Sort by price\r\n  if (sortOrder === \"asc\") {\r\n    filteredProducts = [...filteredProducts].sort((a, b) => a.price - b.price);\r\n  }\r\n  if (sortOrder === \"desc\") {\r\n    filteredProducts = [...filteredProducts].sort((a, b) => b.price - a.price);\r\n  }\r\n\r\n  return (\r\n    <div className=\"container my-5\">\r\n      <h2 className=\"text-center mb-4 fw-bold\">Men Products</h2>\r\n\r\n      {/* Filter + Sort Controls */}\r\n      <div className=\"d-flex justify-content-end mb-4 gap-3\">\r\n\r\n        <select\r\n          className=\"form-select w-auto\"\r\n          value={priceFilter}\r\n          onChange={(e) => setPriceFilter(e.target.value)}\r\n        >\r\n          <option value=\"all\">All Prices</option>\r\n          <option value=\"low\">Under $100</option>\r\n          <option value=\"mid\">$100 - $300</option>\r\n          <option value=\"high\">Above $300</option>\r\n        </select>\r\n\r\n        <select\r\n          className=\"form-select w-auto\"\r\n          value={sortOrder}\r\n          onChange={(e) => setSortOrder(e.target.value)}\r\n        >\r\n          <option value=\"none\">Sort</option>\r\n          <option value=\"asc\">Price: Low → High</option>\r\n          <option value=\"desc\">Price: High → Low</option>\r\n        </select>\r\n\r\n      </div>\r\n\r\n      {/* Loading */}\r\n      {isLoading && (\r\n        <div className=\"text-center my-5\">\r\n          <div className=\"spinner-border text-primary\"></div>\r\n          <p>Loading men's products...</p>\r\n        </div>\r\n      )}\r\n\r\n      {/* Error */}\r\n      {!isLoading && error && (\r\n        <div className=\"alert alert-danger text-center\">{error}</div>\r\n      )}\r\n\r\n      {/* No products */}\r\n      {!isLoading && !error && filteredProducts.length === 0 && (\r\n        <div className=\"alert alert-info text-center\">No products found.</div>\r\n      )}\r\n\r\n      {/* Products */}\r\n      {!isLoading && !error && filteredProducts.length > 0 && (\r\n        <div className=\"row\">\r\n          {filteredProducts.map((productInfo) => (\r\n            <div key={productInfo.id} className=\"col-lg-3 col-md-4 col-sm-6 mb-4\">\r\n\r\n              <div className=\"card shadow-sm h-100\">\r\n\r\n                <img\r\n                  src={productInfo.thumbnail || productInfo.images?.[0]}\r\n                  alt={productInfo.title}\r\n                  className=\"w-100\"\r\n                  style={{ height: \"200px\", objectFit: \"cover\" }}\r\n                />\r\n\r\n                <div className=\"card-body d-flex flex-column\">\r\n                  <h5 className=\"card-title text-truncate\">{productInfo.title}</h5>\r\n\r\n                  <p className=\"text-muted small\">Category: {productInfo.category}</p>\r\n\r\n                  <p className=\"flex-grow-1 small\">\r\n                    {productInfo.description.split(\" \").slice(0, 10).join(\" \") + \"...\"}\r\n                  </p>\r\n\r\n                  <div className=\"d-flex justify-content-between align-items-center mt-auto\">\r\n                    <span className=\"h5 text-success mb-0\">${productInfo.price}</span>\r\n\r\n                    <Link\r\n                      to={`/product/${productInfo.id}`}\r\n                      className=\"btn btn-sm btn-outline-\"\r\n                    >\r\n                      View\r\n                    </Link>\r\n                  </div>\r\n                </div>\r\n\r\n              </div>\r\n\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"
        }
    ]
}