{
    "sourceFile": "src/Components/context/CartContext.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 36,
            "patches": [
                {
                    "date": 1763832908829,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1763832921572,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n import { useContext } from \"react\";\r\n-import { CartContext } from \"../context/cartContext\";\r\n+import { CartContext } from \"../context/CartContext\";\r\n \r\n export default function Cart() {\r\n   const { cart, removeFromCart } = useContext(CartContext);\r\n \r\n"
                },
                {
                    "date": 1763833246956,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n import { useContext } from \"react\";\r\n-import { CartContext } from \"../context/CartContext\";\r\n+import { CartContext } from \"./context/CartContext\";\r\n \r\n export default function Cart() {\r\n   const { cart, removeFromCart } = useContext(CartContext);\r\n \r\n"
                },
                {
                    "date": 1763834039786,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n import { useContext } from \"react\";\r\n-import { CartContext } from \"./context/CartContext\";\r\n+import { CartContext } from \"./CartContext\";\r\n \r\n export default function Cart() {\r\n   const { cart, removeFromCart } = useContext(CartContext);\r\n \r\n"
                },
                {
                    "date": 1763834279703,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,51 +1,22 @@\n-import { useContext } from \"react\";\r\n-import { CartContext } from \"./CartContext\";\r\n+import { createContext, useState } from \"react\";\r\n \r\n-export default function Cart() {\r\n-  const { cart, removeFromCart } = useContext(CartContext);\r\n+// إنشاء الـ Context وتصديره\r\n+export const CartContext = createContext();\r\n \r\n-  const totalPrice = cart.reduce((acc, item) => acc + item.price, 0);\r\n+export default function CartProvider({ children }) {\r\n+const [cart, setCart] = useState([]);\r\n \r\n-  return (\r\n-    <div className=\"container my-5\">\r\n-      <h2 className=\"mb-4 fw-bold\">Your Cart</h2>\r\n+const addToCart = (item) => {\r\n+setCart([...cart, item]);\r\n+};\r\n \r\n-      {cart.length === 0 ? (\r\n-        <h4 className=\"text-muted\">Your cart is empty.</h4>\r\n-      ) : (\r\n-        <>\r\n-          <div className=\"row\">\r\n-            {cart.map((item) => (\r\n-              <div className=\"col-md-4 mb-4\" key={item.id}>\r\n-                <div className=\"card shadow-sm\">\r\n-                  <img\r\n-                    src={item.thumbnail}\r\n-                    alt={item.title}\r\n-                    className=\"card-img-top\"\r\n-                    style={{ height: \"200px\", objectFit: \"cover\" }}\r\n-                  />\r\n-                  <div className=\"card-body\">\r\n-                    <h5 className=\"card-title\">{item.title}</h5>\r\n-                    <p className=\"card-text text-success fw-bold\">\r\n-                      ${item.price}\r\n-                    </p>\r\n+const removeFromCart = (id) => {\r\n+setCart(cart.filter((item) => item.id !== id));\r\n+};\r\n \r\n-                    <button\r\n-                      className=\"btn btn-danger w-100\"\r\n-                      onClick={() => removeFromCart(item.id)}\r\n-                    >\r\n-                      Remove\r\n-                    </button>\r\n-                  </div>\r\n-                </div>\r\n-              </div>\r\n-            ))}\r\n-          </div>\r\n-\r\n-          <hr />\r\n-          <h3 className=\"text-end fw-bold\">Total: ${totalPrice}</h3>\r\n-        </>\r\n-      )}\r\n-    </div>\r\n-  );\r\n+return (\r\n+<CartContext.Provider value={{ cart, addToCart, removeFromCart }}>\r\n+{children}\r\n+</CartContext.Provider>\r\n+);\r\n }\r\n"
                },
                {
                    "date": 1763834358986,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,7 @@\n import { createContext, useState } from \"react\";\r\n \r\n-// إنشاء الـ Context وتصديره\r\n+\r\n export const CartContext = createContext();\r\n \r\n export default function CartProvider({ children }) {\r\n const [cart, setCart] = useState([]);\r\n"
                },
                {
                    "date": 1763834875770,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,22 +0,0 @@\n-import { createContext, useState } from \"react\";\r\n-\r\n-\r\n-export const CartContext = createContext();\r\n-\r\n-export default function CartProvider({ children }) {\r\n-const [cart, setCart] = useState([]);\r\n-\r\n-const addToCart = (item) => {\r\n-setCart([...cart, item]);\r\n-};\r\n-\r\n-const removeFromCart = (id) => {\r\n-setCart(cart.filter((item) => item.id !== id));\r\n-};\r\n-\r\n-return (\r\n-<CartContext.Provider value={{ cart, addToCart, removeFromCart }}>\r\n-{children}\r\n-</CartContext.Provider>\r\n-);\r\n-}\r\n\\ No newline at end of file\n"
                },
                {
                    "date": 1763834883087,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,1 +1,30 @@\n-\n+import { createContext, useState, useEffect } from \"react\";\r\n+\r\n+export const CartContext = createContext();\r\n+\r\n+export default function CartProvider({ children }) {\r\n+// نجيب الكارت من localStorage لو موجود، وإلا نبدأ بمصفوفة فاضية\r\n+const [cart, setCart] = useState(() => {\r\n+const savedCart = localStorage.getItem(\"cart\");\r\n+return savedCart ? JSON.parse(savedCart) : [];\r\n+});\r\n+\r\n+\r\n+useEffect(() => {\r\n+localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n+}, [cart]);\r\n+\r\n+const addToCart = (item) => {\r\n+setCart([...cart, item]);\r\n+};\r\n+\r\n+const removeFromCart = (id) => {\r\n+setCart(cart.filter((item) => item.id !== id));\r\n+};\r\n+\r\n+return (\r\n+<CartContext.Provider value={{ cart, addToCart, removeFromCart }}>\r\n+{children}\r\n+</CartContext.Provider>\r\n+);\r\n+}\r\n"
                },
                {
                    "date": 1763835608238,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,30 +1,17 @@\n-import { createContext, useState, useEffect } from \"react\";\r\n-\r\n-export const CartContext = createContext();\r\n-\r\n-export default function CartProvider({ children }) {\r\n-// نجيب الكارت من localStorage لو موجود، وإلا نبدأ بمصفوفة فاضية\r\n-const [cart, setCart] = useState(() => {\r\n-const savedCart = localStorage.getItem(\"cart\");\r\n-return savedCart ? JSON.parse(savedCart) : [];\r\n-});\r\n-\r\n-\r\n-useEffect(() => {\r\n-localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n-}, [cart]);\r\n-\r\n const addToCart = (item) => {\r\n-setCart([...cart, item]);\r\n+  const exist = cart.find((i) => i.id === item.id);\r\n+  if (exist) {\r\n+    setCart(\r\n+      cart.map((i) =>\r\n+        i.id === item.id ? { ...i, quantity: (i.quantity || 1) + 1 } : i\r\n+      )\r\n+    );\r\n+  } else {\r\n+    setCart([...cart, { ...item, quantity: 1 }]);\r\n+  }\r\n };\r\n \r\n-const removeFromCart = (id) => {\r\n-setCart(cart.filter((item) => item.id !== id));\r\n+const updateQuantity = (id, quantity) => {\r\n+  if (quantity < 1) return;\r\n+  setCart(cart.map((i) => (i.id === id ? { ...i, quantity } : i)));\r\n };\r\n-\r\n-return (\r\n-<CartContext.Provider value={{ cart, addToCart, removeFromCart }}>\r\n-{children}\r\n-</CartContext.Provider>\r\n-);\r\n-}\r\n"
                },
                {
                    "date": 1763835616267,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,17 +0,0 @@\n-const addToCart = (item) => {\r\n-  const exist = cart.find((i) => i.id === item.id);\r\n-  if (exist) {\r\n-    setCart(\r\n-      cart.map((i) =>\r\n-        i.id === item.id ? { ...i, quantity: (i.quantity || 1) + 1 } : i\r\n-      )\r\n-    );\r\n-  } else {\r\n-    setCart([...cart, { ...item, quantity: 1 }]);\r\n-  }\r\n-};\r\n-\r\n-const updateQuantity = (id, quantity) => {\r\n-  if (quantity < 1) return;\r\n-  setCart(cart.map((i) => (i.id === id ? { ...i, quantity } : i)));\r\n-};\r\n\\ No newline at end of file\n"
                },
                {
                    "date": 1763835662179,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,1 +1,47 @@\n-\n+import { createContext, useState, useEffect } from \"react\";\r\n+\r\n+export const CartContext = createContext();\r\n+\r\n+export default function CartProvider({ children }) {\r\n+  const [cart, setCart] = useState(() => {\r\n+    const savedCart = localStorage.getItem(\"cart\");\r\n+    return savedCart ? JSON.parse(savedCart) : [];\r\n+  });\r\n+\r\n+  useEffect(() => {\r\n+    localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n+  }, [cart]);\r\n+\r\n+  // إضافة منتج للكارت مع quantity\r\n+  const addToCart = (item) => {\r\n+    const exist = cart.find((i) => i.id === item.id);\r\n+    if (exist) {\r\n+      setCart(\r\n+        cart.map((i) =>\r\n+          i.id === item.id ? { ...i, quantity: (i.quantity || 1) + 1 } : i\r\n+        )\r\n+      );\r\n+    } else {\r\n+      setCart([...cart, { ...item, quantity: 1 }]);\r\n+    }\r\n+  };\r\n+\r\n+  // تحديث الكمية\r\n+  const updateQuantity = (id, quantity) => {\r\n+    if (quantity < 1) return;\r\n+    setCart(cart.map((i) => (i.id === id ? { ...i, quantity } : i)));\r\n+  };\r\n+\r\n+  // إزالة منتج\r\n+  const removeFromCart = (id) => {\r\n+    setCart(cart.filter((item) => item.id !== id));\r\n+  };\r\n+\r\n+  return (\r\n+    <CartContext.Provider\r\n+      value={{ cart, addToCart, updateQuantity, removeFromCart }}\r\n+    >\r\n+      {children}\r\n+    </CartContext.Provider>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1763835669363,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,7 @@\n import { createContext, useState, useEffect } from \"react\";\r\n \r\n-export const CartContext = createContext();\r\n+export const artContext = createContext();\r\n \r\n export default function CartProvider({ children }) {\r\n   const [cart, setCart] = useState(() => {\r\n     const savedCart = localStorage.getItem(\"cart\");\r\n"
                },
                {
                    "date": 1763835675217,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,7 @@\n import { createContext, useState, useEffect } from \"react\";\r\n \r\n-export const artContext = createContext();\r\n+export const CartContext = createContext();\r\n \r\n export default function CartProvider({ children }) {\r\n   const [cart, setCart] = useState(() => {\r\n     const savedCart = localStorage.getItem(\"cart\");\r\n"
                },
                {
                    "date": 1763835934924,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -25,9 +25,9 @@\n       setCart([...cart, { ...item, quantity: 1 }]);\r\n     }\r\n   };\r\n \r\n-  // تحديث الكمية\r\n+ \r\n   const updateQuantity = (id, quantity) => {\r\n     if (quantity < 1) return;\r\n     setCart(cart.map((i) => (i.id === id ? { ...i, quantity } : i)));\r\n   };\r\n"
                },
                {
                    "date": 1763835940851,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,9 +11,9 @@\n   useEffect(() => {\r\n     localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n   }, [cart]);\r\n \r\n-  // إضافة منتج للكارت مع quantity\r\n+ \r\n   const addToCart = (item) => {\r\n     const exist = cart.find((i) => i.id === item.id);\r\n     if (exist) {\r\n       setCart(\r\n@@ -31,9 +31,9 @@\n     if (quantity < 1) return;\r\n     setCart(cart.map((i) => (i.id === id ? { ...i, quantity } : i)));\r\n   };\r\n \r\n-  // إزالة منتج\r\n+ \r\n   const removeFromCart = (id) => {\r\n     setCart(cart.filter((item) => item.id !== id));\r\n   };\r\n \r\n"
                },
                {
                    "date": 1763840766738,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,9 +11,8 @@\n   useEffect(() => {\r\n     localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n   }, [cart]);\r\n \r\n- \r\n   const addToCart = (item) => {\r\n     const exist = cart.find((i) => i.id === item.id);\r\n     if (exist) {\r\n       setCart(\r\n@@ -25,15 +24,13 @@\n       setCart([...cart, { ...item, quantity: 1 }]);\r\n     }\r\n   };\r\n \r\n- \r\n   const updateQuantity = (id, quantity) => {\r\n     if (quantity < 1) return;\r\n     setCart(cart.map((i) => (i.id === id ? { ...i, quantity } : i)));\r\n   };\r\n \r\n- \r\n   const removeFromCart = (id) => {\r\n     setCart(cart.filter((item) => item.id !== id));\r\n   };\r\n \r\n"
                },
                {
                    "date": 1763841062599,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -41,4 +41,147 @@\n       {children}\r\n     </CartContext.Provider>\r\n   );\r\n }\r\n+// CartContext.jsx\r\n+import { createContext, useState, useEffect } from \"react\";\r\n+\r\n+export const CartContext = createContext();\r\n+\r\n+export default function CartProvider({ children }) {\r\n+const [cart, setCart] = useState(() => {\r\n+const savedCart = localStorage.getItem(\"cart\");\r\n+return savedCart ? JSON.parse(savedCart) : [];\r\n+});\r\n+\r\n+useEffect(() => {\r\n+localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n+}, [cart]);\r\n+\r\n+const addToCart = (item) => {\r\n+const exist = cart.find((i) => i.id === item.id);\r\n+if (exist) {\r\n+setCart(\r\n+cart.map((i) =>\r\n+i.id === item.id ? { ...i, quantity: (i.quantity || 1) + 1 } : i\r\n+)\r\n+);\r\n+} else {\r\n+setCart([...cart, { ...item, quantity: 1 }]);\r\n+}\r\n+};\r\n+\r\n+const updateQuantity = (id, quantity) => {\r\n+if (quantity < 1) return;\r\n+setCart(cart.map((i) => (i.id === id ? { ...i, quantity } : i)));\r\n+};\r\n+\r\n+const removeFromCart = (id) => {\r\n+setCart(cart.filter((item) => item.id !== id));\r\n+};\r\n+\r\n+const clearCart = () => {\r\n+setCart([]);\r\n+};\r\n+\r\n+return (\r\n+<CartContext.Provider\r\n+value={{ cart, addToCart, updateQuantity, removeFromCart, clearCart }}\r\n+>\r\n+{children}\r\n+</CartContext.Provider>\r\n+);\r\n+}\r\n+\r\n+// ProductDetails.jsx\r\n+import { useLocation } from \"react-router-dom\";\r\n+import { useContext } from \"react\";\r\n+import { CartContext } from \"./CartContext.jsx\";\r\n+\r\n+export default function ProductDetails() {\r\n+const { state } = useLocation();\r\n+const { addToCart } = useContext(CartContext);\r\n+\r\n+const product = state?.product;\r\n+\r\n+if (!product) {\r\n+return ( <div className=\"text-center mt-5\"> <h2>No product data found</h2> <a href=\"/\" className=\"btn btn-primary mt-3\">\r\n+Go Back </a> </div>\r\n+);\r\n+}\r\n+\r\n+const productImage =\r\n+product?.images?.[0] || product?.thumbnail || \"/placeholder.png\";\r\n+\r\n+const handleAddToCart = () => {\r\n+addToCart(product);\r\n+alert(`${product.title} added to cart!`);\r\n+};\r\n+\r\n+return ( <div className=\"container my-5\"> <div className=\"row align-items-center\"> <div className=\"col-md-5 mb-4 mb-md-0\"> <img\r\n+         src={productImage}\r\n+         alt={product.title}\r\n+         className=\"w-100 rounded shadow-sm\"\r\n+       /> </div>\r\n+\r\n+```\r\n+    <div className=\"col-md-7\">\r\n+      <h2 className=\"fw-bold\">{product.title}</h2>\r\n+      <p className=\"text-muted\">{product.category}</p>\r\n+      <p className=\"mt-3\">{product.description}</p>\r\n+      <h3 className=\"text-success fw-bold mt-4\">${product.price}</h3>\r\n+\r\n+      <button className=\"btn btn-success mt-4\" onClick={handleAddToCart}>\r\n+        Add to Cart\r\n+      </button>\r\n+    </div>\r\n+  </div>\r\n+</div>\r\n+```\r\n+\r\n+);\r\n+}\r\n+\r\n+// Cart.jsx\r\n+import { useContext } from \"react\";\r\n+import { CartContext } from \"./CartContext.jsx\";\r\n+\r\n+export default function Cart() {\r\n+const { cart, updateQuantity, removeFromCart, clearCart } =\r\n+useContext(CartContext);\r\n+\r\n+const totalPrice = cart.reduce(\r\n+(acc, item) => acc + item.price * (item.quantity || 1),\r\n+0\r\n+);\r\n+\r\n+if (cart.length === 0) {\r\n+return ( <div className=\"text-center mt-5\"> <h2>Your cart is empty</h2> <a href=\"/\" className=\"btn btn-primary mt-3\">\r\n+Go Shopping </a> </div>\r\n+);\r\n+}\r\n+\r\n+return ( <div className=\"container my-5\"> <h2 className=\"mb-4\">Shopping Cart</h2>\r\n+{cart.map((item) => ( <div\r\n+       key={item.id}\r\n+       className=\"d-flex align-items-center mb-3 border-bottom pb-2\"\r\n+     >\r\n+<img\r\n+src={item.thumbnail || item.images?.[0] || \"/placeholder.png\"}\r\n+alt={item.title}\r\n+style={{ width: \"80px\", height: \"80px\", objectFit: \"cover\" }}\r\n+/> <div className=\"ms-3 flex-grow-1\"> <h5>{item.title}</h5> <p className=\"mb-1\">${item.price}</p>\r\n+<input\r\n+type=\"number\"\r\n+min=\"1\"\r\n+value={item.quantity}\r\n+onChange={(e) =>\r\n+updateQuantity(item.id, parseInt(e.target.value))\r\n+}\r\n+style={{ width: \"60px\" }}\r\n+/> </div>\r\n+<button\r\n+className=\"btn btn-danger ms-3\"\r\n+onClick={() => removeFromCart(item.id)}\r\n+>\r\n+Remove </button> </div>\r\n+))} <h4 className=\"mt-4\">Total: ${totalPrice.toFixed(2)}</h4> <button className=\"btn btn-warning mt-3\" onClick={clearCart}>\r\n"
                },
                {
                    "date": 1763841071705,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -140,9 +140,9 @@\n \r\n );\r\n }\r\n \r\n-// Cart.jsx\r\n+\r\n import { useContext } from \"react\";\r\n import { CartContext } from \"./CartContext.jsx\";\r\n \r\n export default function Cart() {\r\n"
                },
                {
                    "date": 1763841077175,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -141,47 +141,4 @@\n );\r\n }\r\n \r\n \r\n-import { useContext } from \"react\";\r\n-import { CartContext } from \"./CartContext.jsx\";\r\n-\r\n-export default function Cart() {\r\n-const { cart, updateQuantity, removeFromCart, clearCart } =\r\n-useContext(CartContext);\r\n-\r\n-const totalPrice = cart.reduce(\r\n-(acc, item) => acc + item.price * (item.quantity || 1),\r\n-0\r\n-);\r\n-\r\n-if (cart.length === 0) {\r\n-return ( <div className=\"text-center mt-5\"> <h2>Your cart is empty</h2> <a href=\"/\" className=\"btn btn-primary mt-3\">\r\n-Go Shopping </a> </div>\r\n-);\r\n-}\r\n-\r\n-return ( <div className=\"container my-5\"> <h2 className=\"mb-4\">Shopping Cart</h2>\r\n-{cart.map((item) => ( <div\r\n-       key={item.id}\r\n-       className=\"d-flex align-items-center mb-3 border-bottom pb-2\"\r\n-     >\r\n-<img\r\n-src={item.thumbnail || item.images?.[0] || \"/placeholder.png\"}\r\n-alt={item.title}\r\n-style={{ width: \"80px\", height: \"80px\", objectFit: \"cover\" }}\r\n-/> <div className=\"ms-3 flex-grow-1\"> <h5>{item.title}</h5> <p className=\"mb-1\">${item.price}</p>\r\n-<input\r\n-type=\"number\"\r\n-min=\"1\"\r\n-value={item.quantity}\r\n-onChange={(e) =>\r\n-updateQuantity(item.id, parseInt(e.target.value))\r\n-}\r\n-style={{ width: \"60px\" }}\r\n-/> </div>\r\n-<button\r\n-className=\"btn btn-danger ms-3\"\r\n-onClick={() => removeFromCart(item.id)}\r\n->\r\n-Remove </button> </div>\r\n-))} <h4 className=\"mt-4\">Total: ${totalPrice.toFixed(2)}</h4> <button className=\"btn btn-warning mt-3\" onClick={clearCart}>\r\n"
                },
                {
                    "date": 1763841083692,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -137,8 +137,8 @@\n   </div>\r\n </div>\r\n ```\r\n \r\n-);\r\n+\r\n }\r\n \r\n \r\n"
                },
                {
                    "date": 1763841092283,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,144 +0,0 @@\n-import { createContext, useState, useEffect } from \"react\";\r\n-\r\n-export const CartContext = createContext();\r\n-\r\n-export default function CartProvider({ children }) {\r\n-  const [cart, setCart] = useState(() => {\r\n-    const savedCart = localStorage.getItem(\"cart\");\r\n-    return savedCart ? JSON.parse(savedCart) : [];\r\n-  });\r\n-\r\n-  useEffect(() => {\r\n-    localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n-  }, [cart]);\r\n-\r\n-  const addToCart = (item) => {\r\n-    const exist = cart.find((i) => i.id === item.id);\r\n-    if (exist) {\r\n-      setCart(\r\n-        cart.map((i) =>\r\n-          i.id === item.id ? { ...i, quantity: (i.quantity || 1) + 1 } : i\r\n-        )\r\n-      );\r\n-    } else {\r\n-      setCart([...cart, { ...item, quantity: 1 }]);\r\n-    }\r\n-  };\r\n-\r\n-  const updateQuantity = (id, quantity) => {\r\n-    if (quantity < 1) return;\r\n-    setCart(cart.map((i) => (i.id === id ? { ...i, quantity } : i)));\r\n-  };\r\n-\r\n-  const removeFromCart = (id) => {\r\n-    setCart(cart.filter((item) => item.id !== id));\r\n-  };\r\n-\r\n-  return (\r\n-    <CartContext.Provider\r\n-      value={{ cart, addToCart, updateQuantity, removeFromCart }}\r\n-    >\r\n-      {children}\r\n-    </CartContext.Provider>\r\n-  );\r\n-}\r\n-// CartContext.jsx\r\n-import { createContext, useState, useEffect } from \"react\";\r\n-\r\n-export const CartContext = createContext();\r\n-\r\n-export default function CartProvider({ children }) {\r\n-const [cart, setCart] = useState(() => {\r\n-const savedCart = localStorage.getItem(\"cart\");\r\n-return savedCart ? JSON.parse(savedCart) : [];\r\n-});\r\n-\r\n-useEffect(() => {\r\n-localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n-}, [cart]);\r\n-\r\n-const addToCart = (item) => {\r\n-const exist = cart.find((i) => i.id === item.id);\r\n-if (exist) {\r\n-setCart(\r\n-cart.map((i) =>\r\n-i.id === item.id ? { ...i, quantity: (i.quantity || 1) + 1 } : i\r\n-)\r\n-);\r\n-} else {\r\n-setCart([...cart, { ...item, quantity: 1 }]);\r\n-}\r\n-};\r\n-\r\n-const updateQuantity = (id, quantity) => {\r\n-if (quantity < 1) return;\r\n-setCart(cart.map((i) => (i.id === id ? { ...i, quantity } : i)));\r\n-};\r\n-\r\n-const removeFromCart = (id) => {\r\n-setCart(cart.filter((item) => item.id !== id));\r\n-};\r\n-\r\n-const clearCart = () => {\r\n-setCart([]);\r\n-};\r\n-\r\n-return (\r\n-<CartContext.Provider\r\n-value={{ cart, addToCart, updateQuantity, removeFromCart, clearCart }}\r\n->\r\n-{children}\r\n-</CartContext.Provider>\r\n-);\r\n-}\r\n-\r\n-// ProductDetails.jsx\r\n-import { useLocation } from \"react-router-dom\";\r\n-import { useContext } from \"react\";\r\n-import { CartContext } from \"./CartContext.jsx\";\r\n-\r\n-export default function ProductDetails() {\r\n-const { state } = useLocation();\r\n-const { addToCart } = useContext(CartContext);\r\n-\r\n-const product = state?.product;\r\n-\r\n-if (!product) {\r\n-return ( <div className=\"text-center mt-5\"> <h2>No product data found</h2> <a href=\"/\" className=\"btn btn-primary mt-3\">\r\n-Go Back </a> </div>\r\n-);\r\n-}\r\n-\r\n-const productImage =\r\n-product?.images?.[0] || product?.thumbnail || \"/placeholder.png\";\r\n-\r\n-const handleAddToCart = () => {\r\n-addToCart(product);\r\n-alert(`${product.title} added to cart!`);\r\n-};\r\n-\r\n-return ( <div className=\"container my-5\"> <div className=\"row align-items-center\"> <div className=\"col-md-5 mb-4 mb-md-0\"> <img\r\n-         src={productImage}\r\n-         alt={product.title}\r\n-         className=\"w-100 rounded shadow-sm\"\r\n-       /> </div>\r\n-\r\n-```\r\n-    <div className=\"col-md-7\">\r\n-      <h2 className=\"fw-bold\">{product.title}</h2>\r\n-      <p className=\"text-muted\">{product.category}</p>\r\n-      <p className=\"mt-3\">{product.description}</p>\r\n-      <h3 className=\"text-success fw-bold mt-4\">${product.price}</h3>\r\n-\r\n-      <button className=\"btn btn-success mt-4\" onClick={handleAddToCart}>\r\n-        Add to Cart\r\n-      </button>\r\n-    </div>\r\n-  </div>\r\n-</div>\r\n-```\r\n-\r\n-\r\n-}\r\n-\r\n-\r\n\\ No newline at end of file\n"
                },
                {
                    "date": 1763841100423,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,1 +1,146 @@\n-\n+// CartContext.jsx\r\n+import { createContext, useState, useEffect } from \"react\";\r\n+\r\n+export const CartContext = createContext();\r\n+\r\n+export default function CartProvider({ children }) {\r\n+const [cart, setCart] = useState(() => {\r\n+const savedCart = localStorage.getItem(\"cart\");\r\n+return savedCart ? JSON.parse(savedCart) : [];\r\n+});\r\n+\r\n+useEffect(() => {\r\n+localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n+}, [cart]);\r\n+\r\n+const addToCart = (item) => {\r\n+const exist = cart.find((i) => i.id === item.id);\r\n+if (exist) {\r\n+setCart(\r\n+cart.map((i) =>\r\n+i.id === item.id ? { ...i, quantity: (i.quantity || 1) + 1 } : i\r\n+)\r\n+);\r\n+} else {\r\n+setCart([...cart, { ...item, quantity: 1 }]);\r\n+}\r\n+};\r\n+\r\n+const updateQuantity = (id, quantity) => {\r\n+if (quantity < 1) return;\r\n+setCart(cart.map((i) => (i.id === id ? { ...i, quantity } : i)));\r\n+};\r\n+\r\n+const removeFromCart = (id) => {\r\n+setCart(cart.filter((item) => item.id !== id));\r\n+};\r\n+\r\n+const clearCart = () => {\r\n+setCart([]);\r\n+};\r\n+\r\n+return (\r\n+<CartContext.Provider\r\n+value={{ cart, addToCart, updateQuantity, removeFromCart, clearCart }}\r\n+>\r\n+{children}\r\n+</CartContext.Provider>\r\n+);\r\n+}\r\n+\r\n+// ProductDetails.jsx\r\n+import { useLocation } from \"react-router-dom\";\r\n+import { useContext } from \"react\";\r\n+import { CartContext } from \"./CartContext.jsx\";\r\n+\r\n+export default function ProductDetails() {\r\n+const { state } = useLocation();\r\n+const { addToCart } = useContext(CartContext);\r\n+\r\n+const product = state?.product;\r\n+\r\n+if (!product) {\r\n+return ( <div className=\"text-center mt-5\"> <h2>No product data found</h2> <a href=\"/\" className=\"btn btn-primary mt-3\">\r\n+Go Back </a> </div>\r\n+);\r\n+}\r\n+\r\n+const productImage =\r\n+product?.images?.[0] || product?.thumbnail || \"/placeholder.png\";\r\n+\r\n+const handleAddToCart = () => {\r\n+addToCart(product);\r\n+alert(`${product.title} added to cart!`);\r\n+};\r\n+\r\n+return ( <div className=\"container my-5\"> <div className=\"row align-items-center\"> <div className=\"col-md-5 mb-4 mb-md-0\"> <img\r\n+         src={productImage}\r\n+         alt={product.title}\r\n+         className=\"w-100 rounded shadow-sm\"\r\n+       /> </div>\r\n+\r\n+```\r\n+    <div className=\"col-md-7\">\r\n+      <h2 className=\"fw-bold\">{product.title}</h2>\r\n+      <p className=\"text-muted\">{product.category}</p>\r\n+      <p className=\"mt-3\">{product.description}</p>\r\n+      <h3 className=\"text-success fw-bold mt-4\">${product.price}</h3>\r\n+\r\n+      <button className=\"btn btn-success mt-4\" onClick={handleAddToCart}>\r\n+        Add to Cart\r\n+      </button>\r\n+    </div>\r\n+  </div>\r\n+</div>\r\n+```\r\n+\r\n+);\r\n+}\r\n+\r\n+// Cart.jsx\r\n+import { useContext } from \"react\";\r\n+import { CartContext } from \"./CartContext.jsx\";\r\n+\r\n+export default function Cart() {\r\n+const { cart, updateQuantity, removeFromCart, clearCart } =\r\n+useContext(CartContext);\r\n+\r\n+const totalPrice = cart.reduce(\r\n+(acc, item) => acc + item.price * (item.quantity || 1),\r\n+0\r\n+);\r\n+\r\n+if (cart.length === 0) {\r\n+return ( <div className=\"text-center mt-5\"> <h2>Your cart is empty</h2> <a href=\"/\" className=\"btn btn-primary mt-3\">\r\n+Go Shopping </a> </div>\r\n+);\r\n+}\r\n+\r\n+return ( <div className=\"container my-5\"> <h2 className=\"mb-4\">Shopping Cart</h2>\r\n+{cart.map((item) => ( <div\r\n+       key={item.id}\r\n+       className=\"d-flex align-items-center mb-3 border-bottom pb-2\"\r\n+     >\r\n+<img\r\n+src={item.thumbnail || item.images?.[0] || \"/placeholder.png\"}\r\n+alt={item.title}\r\n+style={{ width: \"80px\", height: \"80px\", objectFit: \"cover\" }}\r\n+/> <div className=\"ms-3 flex-grow-1\"> <h5>{item.title}</h5> <p className=\"mb-1\">${item.price}</p>\r\n+<input\r\n+type=\"number\"\r\n+min=\"1\"\r\n+value={item.quantity}\r\n+onChange={(e) =>\r\n+updateQuantity(item.id, parseInt(e.target.value))\r\n+}\r\n+style={{ width: \"60px\" }}\r\n+/> </div>\r\n+<button\r\n+className=\"btn btn-danger ms-3\"\r\n+onClick={() => removeFromCart(item.id)}\r\n+>\r\n+Remove </button> </div>\r\n+))} <h4 className=\"mt-4\">Total: ${totalPrice.toFixed(2)}</h4> <button className=\"btn btn-warning mt-3\" onClick={clearCart}>\r\n+Clear Cart </button> </div>\r\n+);\r\n+}\r\n"
                },
                {
                    "date": 1763841124202,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -47,100 +47,4 @@\n </CartContext.Provider>\r\n );\r\n }\r\n \r\n-// ProductDetails.jsx\r\n-import { useLocation } from \"react-router-dom\";\r\n-import { useContext } from \"react\";\r\n-import { CartContext } from \"./CartContext.jsx\";\r\n-\r\n-export default function ProductDetails() {\r\n-const { state } = useLocation();\r\n-const { addToCart } = useContext(CartContext);\r\n-\r\n-const product = state?.product;\r\n-\r\n-if (!product) {\r\n-return ( <div className=\"text-center mt-5\"> <h2>No product data found</h2> <a href=\"/\" className=\"btn btn-primary mt-3\">\r\n-Go Back </a> </div>\r\n-);\r\n-}\r\n-\r\n-const productImage =\r\n-product?.images?.[0] || product?.thumbnail || \"/placeholder.png\";\r\n-\r\n-const handleAddToCart = () => {\r\n-addToCart(product);\r\n-alert(`${product.title} added to cart!`);\r\n-};\r\n-\r\n-return ( <div className=\"container my-5\"> <div className=\"row align-items-center\"> <div className=\"col-md-5 mb-4 mb-md-0\"> <img\r\n-         src={productImage}\r\n-         alt={product.title}\r\n-         className=\"w-100 rounded shadow-sm\"\r\n-       /> </div>\r\n-\r\n-```\r\n-    <div className=\"col-md-7\">\r\n-      <h2 className=\"fw-bold\">{product.title}</h2>\r\n-      <p className=\"text-muted\">{product.category}</p>\r\n-      <p className=\"mt-3\">{product.description}</p>\r\n-      <h3 className=\"text-success fw-bold mt-4\">${product.price}</h3>\r\n-\r\n-      <button className=\"btn btn-success mt-4\" onClick={handleAddToCart}>\r\n-        Add to Cart\r\n-      </button>\r\n-    </div>\r\n-  </div>\r\n-</div>\r\n-```\r\n-\r\n-);\r\n-}\r\n-\r\n-// Cart.jsx\r\n-import { useContext } from \"react\";\r\n-import { CartContext } from \"./CartContext.jsx\";\r\n-\r\n-export default function Cart() {\r\n-const { cart, updateQuantity, removeFromCart, clearCart } =\r\n-useContext(CartContext);\r\n-\r\n-const totalPrice = cart.reduce(\r\n-(acc, item) => acc + item.price * (item.quantity || 1),\r\n-0\r\n-);\r\n-\r\n-if (cart.length === 0) {\r\n-return ( <div className=\"text-center mt-5\"> <h2>Your cart is empty</h2> <a href=\"/\" className=\"btn btn-primary mt-3\">\r\n-Go Shopping </a> </div>\r\n-);\r\n-}\r\n-\r\n-return ( <div className=\"container my-5\"> <h2 className=\"mb-4\">Shopping Cart</h2>\r\n-{cart.map((item) => ( <div\r\n-       key={item.id}\r\n-       className=\"d-flex align-items-center mb-3 border-bottom pb-2\"\r\n-     >\r\n-<img\r\n-src={item.thumbnail || item.images?.[0] || \"/placeholder.png\"}\r\n-alt={item.title}\r\n-style={{ width: \"80px\", height: \"80px\", objectFit: \"cover\" }}\r\n-/> <div className=\"ms-3 flex-grow-1\"> <h5>{item.title}</h5> <p className=\"mb-1\">${item.price}</p>\r\n-<input\r\n-type=\"number\"\r\n-min=\"1\"\r\n-value={item.quantity}\r\n-onChange={(e) =>\r\n-updateQuantity(item.id, parseInt(e.target.value))\r\n-}\r\n-style={{ width: \"60px\" }}\r\n-/> </div>\r\n-<button\r\n-className=\"btn btn-danger ms-3\"\r\n-onClick={() => removeFromCart(item.id)}\r\n->\r\n-Remove </button> </div>\r\n-))} <h4 className=\"mt-4\">Total: ${totalPrice.toFixed(2)}</h4> <button className=\"btn btn-warning mt-3\" onClick={clearCart}>\r\n-Clear Cart </button> </div>\r\n-);\r\n-}\r\n"
                },
                {
                    "date": 1764073219914,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,8 @@\n // CartContext.jsx\r\n import { createContext, useState, useEffect } from \"react\";\r\n \r\n-export const CartContext = createContext();\r\n+export const artContext = createContext();\r\n \r\n export default function CartProvider({ children }) {\r\n const [cart, setCart] = useState(() => {\r\n const savedCart = localStorage.getItem(\"cart\");\r\n"
                },
                {
                    "date": 1764184562623,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,8 @@\n // CartContext.jsx\r\n import { createContext, useState, useEffect } from \"react\";\r\n \r\n-export const artContext = createContext();\r\n+export const ؤartContext = createContext();\r\n \r\n export default function CartProvider({ children }) {\r\n const [cart, setCart] = useState(() => {\r\n const savedCart = localStorage.getItem(\"cart\");\r\n"
                },
                {
                    "date": 1764184573158,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,8 @@\n // CartContext.jsx\r\n import { createContext, useState, useEffect } from \"react\";\r\n \r\n-export const ؤartContext = createContext();\r\n+export const ؤ = createContext();\r\n \r\n export default function CartProvider({ children }) {\r\n const [cart, setCart] = useState(() => {\r\n const savedCart = localStorage.getItem(\"cart\");\r\n"
                },
                {
                    "date": 1764184579026,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,8 @@\n // CartContext.jsx\r\n import { createContext, useState, useEffect } from \"react\";\r\n \r\n-export const ؤ = createContext();\r\n+export const  = createContext();\r\n \r\n export default function CartProvider({ children }) {\r\n const [cart, setCart] = useState(() => {\r\n const savedCart = localStorage.getItem(\"cart\");\r\n"
                },
                {
                    "date": 1764184584133,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,8 @@\n // CartContext.jsx\r\n import { createContext, useState, useEffect } from \"react\";\r\n \r\n-export const  = createContext();\r\n+export const Cart = createContext();\r\n \r\n export default function CartProvider({ children }) {\r\n const [cart, setCart] = useState(() => {\r\n const savedCart = localStorage.getItem(\"cart\");\r\n"
                },
                {
                    "date": 1764184592582,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,8 @@\n // CartContext.jsx\r\n import { createContext, useState, useEffect } from \"react\";\r\n \r\n-export const Cart = createContext();\r\n+export const CartConte = createContext();\r\n \r\n export default function CartProvider({ children }) {\r\n const [cart, setCart] = useState(() => {\r\n const savedCart = localStorage.getItem(\"cart\");\r\n"
                },
                {
                    "date": 1764241058860,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,50 +1,159 @@\n-// CartContext.jsx\r\n-import { createContext, useState, useEffect } from \"react\";\r\n+import { useContext, useEffect, useState } from \"react\";\r\n+import { CartContext } from \"../context/CartContext\";\r\n+import { useNavigate } from \"react-router-dom\";\r\n \r\n-export const CartConte = createContext();\r\n+export default function Cart() {\r\n+  const { cart, removeFromCart, updateQuantity } = useContext(CartContext);\r\n+  const [paymentMethod, setPaymentMethod] = useState(\"cash\");\r\n+  const [localCart, setLocalCart] = useState([]);\r\n+  const navigate = useNavigate();\r\n \r\n-export default function CartProvider({ children }) {\r\n-const [cart, setCart] = useState(() => {\r\n-const savedCart = localStorage.getItem(\"cart\");\r\n-return savedCart ? JSON.parse(savedCart) : [];\r\n-});\r\n+  // Load cart from localStorage on mount\r\n+  useEffect(() => {\r\n+    const storedCart = JSON.parse(localStorage.getItem(\"cart\")) || [];\r\n+    setLocalCart(storedCart);\r\n+  }, []);\r\n \r\n-useEffect(() => {\r\n-localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n-}, [cart]);\r\n+  // Sync cart to localStorage whenever it changes\r\n+  useEffect(() => {\r\n+    localStorage.setItem(\"cart\", JSON.stringify(localCart));\r\n+  }, [localCart]);\r\n \r\n-const addToCart = (item) => {\r\n-const exist = cart.find((i) => i.id === item.id);\r\n-if (exist) {\r\n-setCart(\r\n-cart.map((i) =>\r\n-i.id === item.id ? { ...i, quantity: (i.quantity || 1) + 1 } : i\r\n-)\r\n-);\r\n-} else {\r\n-setCart([...cart, { ...item, quantity: 1 }]);\r\n-}\r\n-};\r\n+  // Update localCart whenever Context cart changes\r\n+  useEffect(() => {\r\n+    setLocalCart(cart);\r\n+  }, [cart]);\r\n \r\n-const updateQuantity = (id, quantity) => {\r\n-if (quantity < 1) return;\r\n-setCart(cart.map((i) => (i.id === id ? { ...i, quantity } : i)));\r\n-};\r\n+  const totalPrice = localCart.reduce(\r\n+    (acc, item) => acc + item.price * (item.quantity || 1),\r\n+    0\r\n+  );\r\n \r\n-const removeFromCart = (id) => {\r\n-setCart(cart.filter((item) => item.id !== id));\r\n-};\r\n+  const handleCheckout = () => {\r\n+    navigate(\"/checkout\", { state: { cart: localCart, totalPrice, paymentMethod } });\r\n+  };\r\n \r\n-const clearCart = () => {\r\n-setCart([]);\r\n-};\r\n+  const handleQuantityChange = (id, quantity) => {\r\n+    updateQuantity(id, quantity); // update Context\r\n+    setLocalCart((prev) =>\r\n+      prev.map((item) => (item.id === id ? { ...item, quantity } : item))\r\n+    ); // update local state & localStorage\r\n+  };\r\n \r\n-return (\r\n-<CartContext.Provider\r\n-value={{ cart, addToCart, updateQuantity, removeFromCart, clearCart }}\r\n->\r\n-{children}\r\n-</CartContext.Provider>\r\n-);\r\n+  const handleRemove = (id) => {\r\n+    if (window.confirm(\"Are you sure you want to remove this item?\")) {\r\n+      removeFromCart(id);\r\n+      setLocalCart((prev) => prev.filter((item) => item.id !== id));\r\n+    }\r\n+  };\r\n+\r\n+  return (\r\n+    <section className=\"h-100\">\r\n+      <div className=\"container h-100 py-5\">\r\n+        <div className=\"row d-flex justify-content-center align-items-center h-100\">\r\n+          <div className=\"col-10\">\r\n+            <h3 className=\"fw-normal mb-4\">Shopping Cart</h3>\r\n+\r\n+            {localCart.length === 0 ? (\r\n+              <h4 className=\"text-muted\">Your cart is empty.</h4>\r\n+            ) : (\r\n+              <>\r\n+                {localCart.map((item) => (\r\n+                  <div className=\"card rounded-3 mb-4\" key={item.id}>\r\n+                    <div className=\"card-body p-4\">\r\n+                      <div className=\"row align-items-center\">\r\n+                        <div className=\"col-md-2\">\r\n+                          <img\r\n+                            src={item.thumbnail}\r\n+                            className=\"img-fluid rounded-3\"\r\n+                            alt={item.title}\r\n+                          />\r\n+                        </div>\r\n+                        <div className=\"col-md-4\">\r\n+                          <p className=\"lead mb-2\">{item.title}</p>\r\n+                        </div>\r\n+                        <div className=\"col-md-3 d-flex align-items-center\">\r\n+                          <button\r\n+                            className=\"btn btn-link px-2\"\r\n+                            onClick={() =>\r\n+                              handleQuantityChange(\r\n+                                item.id,\r\n+                                Math.max(1, (item.quantity || 1) - 1)\r\n+                              )\r\n+                            }\r\n+                          >\r\n+                            <i className=\"fas fa-minus\"></i>\r\n+                          </button>\r\n+                          <input\r\n+                            min=\"1\"\r\n+                            type=\"number\"\r\n+                            className=\"form-control form-control-sm mx-2\"\r\n+                            value={item.quantity || 1}\r\n+                            onChange={(e) =>\r\n+                              handleQuantityChange(\r\n+                                item.id,\r\n+                                Math.max(1, Number(e.target.value))\r\n+                              )\r\n+                            }\r\n+                          />\r\n+                          <button\r\n+                            className=\"btn btn-link px-2\"\r\n+                            onClick={() =>\r\n+                              handleQuantityChange(\r\n+                                item.id,\r\n+                                (item.quantity || 1) + 1\r\n+                              )\r\n+                            }\r\n+                          >\r\n+                            <i className=\"fas fa-plus\"></i>\r\n+                          </button>\r\n+                        </div>\r\n+                        <div className=\"col-md-2 text-end\">\r\n+                          <strong>\r\n+                            ${(item.price * (item.quantity || 1)).toFixed(2)}\r\n+                          </strong>\r\n+                        </div>\r\n+                        <div className=\"col-md-1 text-end\">\r\n+                          <button\r\n+                            className=\"text-danger btn btn-link\"\r\n+                            onClick={() => handleRemove(item.id)}\r\n+                          >\r\n+                            <i className=\"fas fa-trash fa-lg\"></i>\r\n+                          </button>\r\n+                        </div>\r\n+                      </div>\r\n+                    </div>\r\n+                  </div>\r\n+                ))}\r\n+\r\n+                {/* Total + Checkout */}\r\n+                <div className=\"card mb-3\">\r\n+                  <div className=\"card-body d-flex flex-column flex-sm-row justify-content-between align-items-center gap-2\">\r\n+                    <h4 className=\"fw-bold mb-0\">Total: ${totalPrice.toFixed(2)}</h4>\r\n+                    \r\n+                    {/* Payment Method */}\r\n+                    <select\r\n+                      className=\"form-select flex-grow-1\"\r\n+                      value={paymentMethod}\r\n+                      onChange={(e) => setPaymentMethod(e.target.value)}\r\n+                    >\r\n+                      <option value=\"cash\">Cash by hand</option>\r\n+                      <option value=\"online\">Online checkout</option>\r\n+                    </select>\r\n+\r\n+                    <button\r\n+                      className=\"btn btn-success btn-sm flex-shrink-0\"\r\n+                      onClick={handleCheckout}\r\n+                    >\r\n+                      Proceed to Checkout\r\n+                    </button>\r\n+                  </div>\r\n+                </div>\r\n+              </>\r\n+            )}\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+    </section>\r\n+  );\r\n }\r\n-\r\n"
                },
                {
                    "date": 1764241076070,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,159 +1,1 @@\n-import { useContext, useEffect, useState } from \"react\";\r\n-import { CartContext } from \"../context/CartContext\";\r\n-import { useNavigate } from \"react-router-dom\";\r\n \r\n-export default function Cart() {\r\n-  const { cart, removeFromCart, updateQuantity } = useContext(CartContext);\r\n-  const [paymentMethod, setPaymentMethod] = useState(\"cash\");\r\n-  const [localCart, setLocalCart] = useState([]);\r\n-  const navigate = useNavigate();\r\n-\r\n-  // Load cart from localStorage on mount\r\n-  useEffect(() => {\r\n-    const storedCart = JSON.parse(localStorage.getItem(\"cart\")) || [];\r\n-    setLocalCart(storedCart);\r\n-  }, []);\r\n-\r\n-  // Sync cart to localStorage whenever it changes\r\n-  useEffect(() => {\r\n-    localStorage.setItem(\"cart\", JSON.stringify(localCart));\r\n-  }, [localCart]);\r\n-\r\n-  // Update localCart whenever Context cart changes\r\n-  useEffect(() => {\r\n-    setLocalCart(cart);\r\n-  }, [cart]);\r\n-\r\n-  const totalPrice = localCart.reduce(\r\n-    (acc, item) => acc + item.price * (item.quantity || 1),\r\n-    0\r\n-  );\r\n-\r\n-  const handleCheckout = () => {\r\n-    navigate(\"/checkout\", { state: { cart: localCart, totalPrice, paymentMethod } });\r\n-  };\r\n-\r\n-  const handleQuantityChange = (id, quantity) => {\r\n-    updateQuantity(id, quantity); // update Context\r\n-    setLocalCart((prev) =>\r\n-      prev.map((item) => (item.id === id ? { ...item, quantity } : item))\r\n-    ); // update local state & localStorage\r\n-  };\r\n-\r\n-  const handleRemove = (id) => {\r\n-    if (window.confirm(\"Are you sure you want to remove this item?\")) {\r\n-      removeFromCart(id);\r\n-      setLocalCart((prev) => prev.filter((item) => item.id !== id));\r\n-    }\r\n-  };\r\n-\r\n-  return (\r\n-    <section className=\"h-100\">\r\n-      <div className=\"container h-100 py-5\">\r\n-        <div className=\"row d-flex justify-content-center align-items-center h-100\">\r\n-          <div className=\"col-10\">\r\n-            <h3 className=\"fw-normal mb-4\">Shopping Cart</h3>\r\n-\r\n-            {localCart.length === 0 ? (\r\n-              <h4 className=\"text-muted\">Your cart is empty.</h4>\r\n-            ) : (\r\n-              <>\r\n-                {localCart.map((item) => (\r\n-                  <div className=\"card rounded-3 mb-4\" key={item.id}>\r\n-                    <div className=\"card-body p-4\">\r\n-                      <div className=\"row align-items-center\">\r\n-                        <div className=\"col-md-2\">\r\n-                          <img\r\n-                            src={item.thumbnail}\r\n-                            className=\"img-fluid rounded-3\"\r\n-                            alt={item.title}\r\n-                          />\r\n-                        </div>\r\n-                        <div className=\"col-md-4\">\r\n-                          <p className=\"lead mb-2\">{item.title}</p>\r\n-                        </div>\r\n-                        <div className=\"col-md-3 d-flex align-items-center\">\r\n-                          <button\r\n-                            className=\"btn btn-link px-2\"\r\n-                            onClick={() =>\r\n-                              handleQuantityChange(\r\n-                                item.id,\r\n-                                Math.max(1, (item.quantity || 1) - 1)\r\n-                              )\r\n-                            }\r\n-                          >\r\n-                            <i className=\"fas fa-minus\"></i>\r\n-                          </button>\r\n-                          <input\r\n-                            min=\"1\"\r\n-                            type=\"number\"\r\n-                            className=\"form-control form-control-sm mx-2\"\r\n-                            value={item.quantity || 1}\r\n-                            onChange={(e) =>\r\n-                              handleQuantityChange(\r\n-                                item.id,\r\n-                                Math.max(1, Number(e.target.value))\r\n-                              )\r\n-                            }\r\n-                          />\r\n-                          <button\r\n-                            className=\"btn btn-link px-2\"\r\n-                            onClick={() =>\r\n-                              handleQuantityChange(\r\n-                                item.id,\r\n-                                (item.quantity || 1) + 1\r\n-                              )\r\n-                            }\r\n-                          >\r\n-                            <i className=\"fas fa-plus\"></i>\r\n-                          </button>\r\n-                        </div>\r\n-                        <div className=\"col-md-2 text-end\">\r\n-                          <strong>\r\n-                            ${(item.price * (item.quantity || 1)).toFixed(2)}\r\n-                          </strong>\r\n-                        </div>\r\n-                        <div className=\"col-md-1 text-end\">\r\n-                          <button\r\n-                            className=\"text-danger btn btn-link\"\r\n-                            onClick={() => handleRemove(item.id)}\r\n-                          >\r\n-                            <i className=\"fas fa-trash fa-lg\"></i>\r\n-                          </button>\r\n-                        </div>\r\n-                      </div>\r\n-                    </div>\r\n-                  </div>\r\n-                ))}\r\n-\r\n-                {/* Total + Checkout */}\r\n-                <div className=\"card mb-3\">\r\n-                  <div className=\"card-body d-flex flex-column flex-sm-row justify-content-between align-items-center gap-2\">\r\n-                    <h4 className=\"fw-bold mb-0\">Total: ${totalPrice.toFixed(2)}</h4>\r\n-                    \r\n-                    {/* Payment Method */}\r\n-                    <select\r\n-                      className=\"form-select flex-grow-1\"\r\n-                      value={paymentMethod}\r\n-                      onChange={(e) => setPaymentMethod(e.target.value)}\r\n-                    >\r\n-                      <option value=\"cash\">Cash by hand</option>\r\n-                      <option value=\"online\">Online checkout</option>\r\n-                    </select>\r\n-\r\n-                    <button\r\n-                      className=\"btn btn-success btn-sm flex-shrink-0\"\r\n-                      onClick={handleCheckout}\r\n-                    >\r\n-                      Proceed to Checkout\r\n-                    </button>\r\n-                  </div>\r\n-                </div>\r\n-              </>\r\n-            )}\r\n-          </div>\r\n-        </div>\r\n-      </div>\r\n-    </section>\r\n-  );\r\n-}\r\n"
                },
                {
                    "date": 1764241195278,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,1 +1,63 @@\n+// CartContext.jsx\r\n+import { createContext, useState, useEffect } from \"react\";\r\n \r\n+export const CartContext = createContext();\r\n+\r\n+export default function CartProvider({ children }) {\r\n+  const [cart, setCart] = useState(() => {\r\n+    const savedCart = localStorage.getItem(\"cart\");\r\n+    return savedCart ? JSON.parse(savedCart) : [];\r\n+  });\r\n+\r\n+  useEffect(() => {\r\n+    localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n+  }, [cart]);\r\n+\r\n+  const addToCart = (item) => {\r\n+    const exist = cart.find((i) => i.id === item.id);\r\n+    if (exist) {\r\n+      setCart(\r\n+        cart.map((i) =>\r\n+          i.id === item.id ? { ...i, quantity: (i.quantity || 1) + 1 } : i\r\n+        )\r\n+      );\r\n+    } else {\r\n+      setCart([...cart, { ...item, quantity: 1 }]);\r\n+    }\r\n+  };\r\n+\r\n+  const updateQuantity = (id, quantity) => {\r\n+    if (quantity < 1) return;\r\n+    setCart(cart.map((i) => (i.id === id ? { ...i, quantity } : i)));\r\n+  };\r\n+\r\n+  const removeFromCart = (id) => {\r\n+    setCart(cart.filter((item) => item.id !== id));\r\n+  };\r\n+\r\n+  const clearCart = () => {\r\n+    setCart([]);\r\n+  };\r\n+\r\n+  // ⭐⭐⭐ cart counter (هنا الإضافة)\r\n+  const cartCount = cart.reduce(\r\n+    (total, item) => total + (item.quantity || 1),\r\n+    0\r\n+  );\r\n+\r\n+  return (\r\n+    <CartContext.Provider\r\n+      value={{\r\n+        cart,\r\n+        addToCart,\r\n+        updateQuantity,\r\n+        removeFromCart,\r\n+        clearCart,\r\n+        cartCount, // ⭐ نرجعه للـnavbar\r\n+      }}\r\n+    >\r\n+      {children}\r\n+    </CartContext.Provider>\r\n+  );\r\n+}\r\n+\r\n"
                },
                {
                    "date": 1764241201251,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -52,9 +52,9 @@\n         addToCart,\r\n         updateQuantity,\r\n         removeFromCart,\r\n         clearCart,\r\n-        cartCount, // ⭐ نرجعه للـnavbar\r\n+        cartCount, \r\n       }}\r\n     >\r\n       {children}\r\n     </CartContext.Provider>\r\n"
                },
                {
                    "date": 1764241207903,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -38,9 +38,9 @@\n   const clearCart = () => {\r\n     setCart([]);\r\n   };\r\n \r\n-  // ⭐⭐⭐ cart counter (هنا الإضافة)\r\n+ \r\n   const cartCount = cart.reduce(\r\n     (total, item) => total + (item.quantity || 1),\r\n     0\r\n   );\r\n"
                },
                {
                    "date": 1764280508920,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,7 @@\n // CartContext.jsx\r\n import { createContext, useState, useEffect } from \"react\";\r\n+import { toast } from \"react-toastify\";\r\n \r\n export const CartContext = createContext();\r\n \r\n export default function CartProvider({ children }) {\r\n@@ -13,38 +14,39 @@\n     localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n   }, [cart]);\r\n \r\n   const addToCart = (item) => {\r\n-    const exist = cart.find((i) => i.id === item.id);\r\n-    if (exist) {\r\n-      setCart(\r\n-        cart.map((i) =>\r\n+    setCart((prevCart) => {\r\n+      const exist = prevCart.find((i) => i.id === item.id);\r\n+      if (exist) {\r\n+        toast.info(`${item.name} quantity increased ✅`);\r\n+        return prevCart.map((i) =>\r\n           i.id === item.id ? { ...i, quantity: (i.quantity || 1) + 1 } : i\r\n-        )\r\n-      );\r\n-    } else {\r\n-      setCart([...cart, { ...item, quantity: 1 }]);\r\n-    }\r\n+        );\r\n+      } else {\r\n+        toast.success(`${item.name} added to cart ✅`);\r\n+        return [...prevCart, { ...item, quantity: 1 }];\r\n+      }\r\n+    });\r\n   };\r\n \r\n   const updateQuantity = (id, quantity) => {\r\n     if (quantity < 1) return;\r\n-    setCart(cart.map((i) => (i.id === id ? { ...i, quantity } : i)));\r\n+    setCart((prevCart) =>\r\n+      prevCart.map((i) => (i.id === id ? { ...i, quantity } : i))\r\n+    );\r\n   };\r\n \r\n   const removeFromCart = (id) => {\r\n-    setCart(cart.filter((item) => item.id !== id));\r\n+    setCart((prevCart) => prevCart.filter((item) => item.id !== id));\r\n   };\r\n \r\n   const clearCart = () => {\r\n     setCart([]);\r\n+    toast.warning(\"Cart cleared ⚠️\");\r\n   };\r\n \r\n- \r\n-  const cartCount = cart.reduce(\r\n-    (total, item) => total + (item.quantity || 1),\r\n-    0\r\n-  );\r\n+  const cartCount = cart.reduce((total, item) => total + (item.quantity ?? 1), 0);\r\n \r\n   return (\r\n     <CartContext.Provider\r\n       value={{\r\n@@ -52,12 +54,11 @@\n         addToCart,\r\n         updateQuantity,\r\n         removeFromCart,\r\n         clearCart,\r\n-        cartCount, \r\n+        cartCount,\r\n       }}\r\n     >\r\n       {children}\r\n     </CartContext.Provider>\r\n   );\r\n }\r\n-\r\n"
                },
                {
                    "date": 1764280781272,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,9 +17,9 @@\n   const addToCart = (item) => {\r\n     setCart((prevCart) => {\r\n       const exist = prevCart.find((i) => i.id === item.id);\r\n       if (exist) {\r\n-        toast.info(`${item.name} quantity increased ✅`);\r\n+        toast.info(`${item.} quantity increased ✅`);\r\n         return prevCart.map((i) =>\r\n           i.id === item.id ? { ...i, quantity: (i.quantity || 1) + 1 } : i\r\n         );\r\n       } else {\r\n"
                },
                {
                    "date": 1764280792986,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,14 +17,14 @@\n   const addToCart = (item) => {\r\n     setCart((prevCart) => {\r\n       const exist = prevCart.find((i) => i.id === item.id);\r\n       if (exist) {\r\n-        toast.info(`${item.} quantity increased ✅`);\r\n+        toast.info(`${item.title} quantity increased ✅`);\r\n         return prevCart.map((i) =>\r\n           i.id === item.id ? { ...i, quantity: (i.quantity || 1) + 1 } : i\r\n         );\r\n       } else {\r\n-        toast.success(`${item.name} added to cart ✅`);\r\n+        toast.success(`${item.tit} added to cart ✅`);\r\n         return [...prevCart, { ...item, quantity: 1 }];\r\n       }\r\n     });\r\n   };\r\n"
                }
            ],
            "date": 1763832908829,
            "name": "Commit-0",
            "content": "import { useContext } from \"react\";\r\nimport { CartContext } from \"../context/cartContext\";\r\n\r\nexport default function Cart() {\r\n  const { cart, removeFromCart } = useContext(CartContext);\r\n\r\n  const totalPrice = cart.reduce((acc, item) => acc + item.price, 0);\r\n\r\n  return (\r\n    <div className=\"container my-5\">\r\n      <h2 className=\"mb-4 fw-bold\">Your Cart</h2>\r\n\r\n      {cart.length === 0 ? (\r\n        <h4 className=\"text-muted\">Your cart is empty.</h4>\r\n      ) : (\r\n        <>\r\n          <div className=\"row\">\r\n            {cart.map((item) => (\r\n              <div className=\"col-md-4 mb-4\" key={item.id}>\r\n                <div className=\"card shadow-sm\">\r\n                  <img\r\n                    src={item.thumbnail}\r\n                    alt={item.title}\r\n                    className=\"card-img-top\"\r\n                    style={{ height: \"200px\", objectFit: \"cover\" }}\r\n                  />\r\n                  <div className=\"card-body\">\r\n                    <h5 className=\"card-title\">{item.title}</h5>\r\n                    <p className=\"card-text text-success fw-bold\">\r\n                      ${item.price}\r\n                    </p>\r\n\r\n                    <button\r\n                      className=\"btn btn-danger w-100\"\r\n                      onClick={() => removeFromCart(item.id)}\r\n                    >\r\n                      Remove\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n\r\n          <hr />\r\n          <h3 className=\"text-end fw-bold\">Total: ${totalPrice}</h3>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"
        }
    ]
}